{% extends "index.html" %}

{% block title %}Crew Members{% endblock %}

{% block body %}


<div id="crememberscontent">
    
    <div id="nameandphoto">
        <h1 id="name">{{ membros.0.name }}</h1>
        <img id="photo" src="{{ membros.0.image }}" alt="membro" height="570px">
        <div id="changephotobuttons">
            <button id="apodsearchbtn" onclick="changePhoto('-')"><i class="fa fa-angle-left"></i></button>       
            <button id="apodsearchbtn" onclick="changePhoto('+')"><i class="fa fa-angle-right"></i></button>        
        </div>
    </div>
    

    <div id="informations">
        <p id="idmember">Id: {{ membros.0.id }}</p>
        <p id="agencymember">Agency: {{ membros.0.agency }}</p>
        <p id="wikimember"><a href="{{ membros.0.wikipedia }}">Wikipedia link here</a></p>        
        <p id="statusmember">Status: {{ membros.0.status }}</p>
    </div>
</div>

<script>
    var i = 0
    var membrosList = {{ membros|safe }}

    function changePhoto(value){ 
        document.getElementById('photo').src = ''

        if(value==='+'){
            i++;            
        }else if(value==='-'){
            i--;
        }
        i = validatePosition(i)

        document.getElementById('name').innerHTML = membrosList[i]['name']
        document.getElementById('photo').src = membrosList[i]['image']
        document.getElementById('idmember').innerHTML = "Id: " + membrosList[i]['id']
        document.getElementById('agencymember').innerHTML = "Agency: " + membrosList[i]['agency']
        document.getElementById('wikimember').innerHTML = "<a href="+membrosList[i]['wikipedia']+">Wikipedia link here</a>"
        document.getElementById('statusmember').innerHTML = "Status: " + membrosList[i]['status']
    }

    function validatePosition(i){
        if(i<0){
            i = membrosList.length - 1
        }else if(i >= membrosList.length){
            i = 0
        }
        return i
    }
</script>

{% endblock %}